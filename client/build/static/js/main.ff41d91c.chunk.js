(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(35),s=a.n(l),c=a(2),o=a(3),i=a(5),m=a(4),u=a(6),h=a(107),p=a(108),d=a(109),g=a(13),b=a.n(g),f=a(17),E=a(27),v=a(21),y=a(12),k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={navbarHeight:0},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"auto",clear:"both",marginTop:"35px"},className:"jumbotron"},this.props.children)}}]),t}(r.a.Component);function j(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function S(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)}function O(e){var t=e.size,a=e.children;return r.a.createElement("div",{className:t.split(" ").map(function(e){return"col-".concat(e)}).join(" ")},a)}var w=function(e){return r.a.createElement("h1",e,e.children)},N=function(e){return r.a.createElement("h2",e,e.children)},C=function(e){return r.a.createElement("h3",e,e.children)},x=function(e){return r.a.createElement("h4",e,e.children)},A=function(e){return r.a.createElement("div",Object.assign({className:"panel panel-primary"},e),e.children)},B=function(e){return r.a.createElement("div",Object.assign({className:"panel-heading clearfix"},e),e.children)},Y=function(e){return r.a.createElement("div",Object.assign({className:"panel-body"},e),e.children)},F=function(e){return r.a.createElement("input",Object.assign({className:"form-control"},e))},R=function(e){var t="btn ";switch(e.type){case"primary":t+="btn-primary";break;case"success":t+="btn-success";break;case"info":t+="btn-info";break;case"warning":t+="btn-warning";break;case"danger":t+="btn-danger";break;case"link":t+="btn-link";break;case"default":t+="btn-default"}return t+=" "+e.additional,r.a.createElement("button",Object.assign({},e,{className:t}),e.children)},I=function(e){return r.a.createElement("label",Object.assign({htmlFor:e.htmlFor},e),e.children)},T=function(e){return r.a.createElement("div",Object.assign({className:"form-group"},e),e.children)},M=function(e){return r.a.createElement("form",e,e.children)},U=a(9),D=a.n(U),_={getArticles:function(){return D.a.get("/api/articles")},getArticle:function(e){return D.a.get("/api/articles/"+e)},deleteArticle:function(e){return D.a.delete("/api/articles/"+e)},saveArticle:function(e){return D.a.post("/api/articles",e)},queryNYT:function(e){return D.a.post("/api/query/",{url:e})},registerUser:function(e,t){return D.a.post("/api/authentication/register",{username:e,password:t})},loginUser:function(e,t){return D.a.post("/api/authentication/login",{username:e,password:t})},createUser:function(e){return D.a.post("/api/recommendations/"+e)},getUser:function(e){return D.a.get("/api/recommendations/user/"+e)},createRecommendation:function(e){return D.a.post("/api/recommendations/",e)},getRecommendation:function(e){return D.a.get("/api/recommendations/"+e)},saveComment:function(e,t,a,n){return D.a.post("/api/comments/save/".concat(e),{subject:t,author:a,comment:n})},getArticlesU:function(e){return D.a.post("/api/articles/findAll",{user:e})},getArticleU:function(e,t){return D.a.post("/api/articles/find/:id",{user:e,id:t})},deleteArticleU:function(e,t){return D.a.post("/api/articles/delete",{user:e,id:t})},saveArticleU:function(e,t){return D.a.post("/api/articles/create",{user:e,articleData:t})}},L=a(25),z=a.n(L),P=function(e){return r.a.createElement("li",{className:"list-group-item"},e.children)},V=(a(85),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={receiver:"",message:"",articleData:"",userFound:!1,setting:0},a.handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(y.a)(Object(y.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(v.a)({},t,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this,a=localStorage.getItem("user");_.getUser(this.state.receiver).then(function(e){null===e.data?t.setState({setting:1}):(t.setState({setting:2}),_.createRecommendation({sender:a,receiver:t.state.receiver,message:t.state.message,title:t.props.articleData.title,url:t.props.articleData.url}).then(function(e){console.log(e)}))}),e.preventDefault()}},{key:"changeMessageNotification",value:function(e){switch(e){case 0:return r.a.createElement("div",null);case 1:return r.a.createElement("div",null," Recipient Not Found");case 2:return r.a.createElement("div",null," Message Sent!")}}},{key:"render",value:function(){return r.a.createElement("div",{className:"recommendationContainer"},this.props.commentsVisible?r.a.createElement("form",{onSubmit:this.handleSubmit,id:"usrform"},r.a.createElement("div",null,"Send To:"," ",r.a.createElement("textarea",{type:"text",name:"receiver",rows:"1",value:this.state.receiver,onChange:this.handleChange})),r.a.createElement("div",null," ",this.changeMessageNotification(this.state.setting)),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("label",null," Make a Comment!")),r.a.createElement("div",null,r.a.createElement("textarea",{name:"message",value:this.state.messageBody,onChange:this.handleChange,lass:"comments",rows:"6",cols:"50",form:"usrform"}))),r.a.createElement("input",{type:"submit"})):null)}}]),t}(n.Component)),q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={commentsVisible:!1},a.openCommentField=function(){a.setState({commentsVisible:!a.state.commentsVisible})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"list-group",style:{margin:"30px 0"}},r.a.createElement("a",{href:this.props.url,className:"bg-dark list-group-item list-group-item-action flex-column align-items-start active",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"d-flex w-100 justify-content-between"},r.a.createElement("h5",{className:"mb-1"},this.props.title),r.a.createElement("small",null,z()(this.props.date).format("dddd, MMMM Do YYYY, h:mm")))),r.a.createElement(P,{className:"list-group-item"},r.a.createElement("div",{className:" w-75",style:{display:"inline-block"}},r.a.createElement("h5",{className:"mb-1"},this.props.summary)),r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example",style:{float:"right"}},r.a.createElement("a",{href:this.props.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("button",{type:"button",className:"btn btn-info"},"Read")),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.props.onClick},this.props.type),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.openCommentField},"Recommend"))),r.a.createElement(V,{articleData:this.props,commentsVisible:this.state.commentsVisible}))}}]),t}(n.Component),W=a(19),H=(a(44),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).articleType="articles",a.bookType="books",a.state={page:"0",results:[],previousSearch:{},noResults:!1,topic:"",sYear:"",eYear:"",pageBook:"0",resultsBook:[],previousSearchBook:{},noResultsBook:!1,topicBook:"",sYearBook:"",eYearBook:""},a.saveArticle=function(e){var t=localStorage.getItem("user"),n={title:e.headline.main,url:e.web_url,summary:e.snippet,date:e.pub_date,user:t};_.saveArticleU(t,n).then(function(e){var t=a.state.results.filter(function(e){return e.headline.main!==n.title});a.setState({results:t})}).catch(function(e){return console.log(e)})},a.saveBook=function(e){var t=localStorage.getItem("user"),n={title:e.book_title,url:e.url,summary:e.summary,date:e.publication_dt,user:t};_.saveArticleU(t,n).then(function(e){var t=a.state.results.filter(function(e){return e.headline.main!==n.title});a.setState({results:t})}).catch(function(e){return console.log(e)})},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n={topic:t.topic,sYear:t.sYear,eYear:t.eYear};a.setState({results:[]}),a.getArticles(n)},a.handleFormSubmitBook=function(e){e.preventDefault();var t=a.state,n={topicBook:t.topicBook,sYearBook:t.sYearBook,eYearBook:t.eYearBook};a.setState({resultsBook:[]}),a.getBooks(n)},a.getArticles=function(e){var t=e.topic,n=e.sYear,r=e.eYear,l="https://api.nytimes.com/svc/search/v2/articlesearch.json?sort=newest&page=".concat(a.state.page);t.indexOf(" ")>=0&&(t=t.replace(/\s/g,"+")),t&&(l+="&fq=".concat(t)),n&&(l+="&begin_date=".concat(n)),r&&(l+="&end_date=".concat(r)),l+="&api-key=0kc43d2ELOWiqzQYxbWK24FwYJwHXyJk";var s=Object(y.a)(Object(y.a)(a));_.queryNYT(l).then(function(t){s.updateResults(t,e)}).catch(function(e){return console.log(e)})},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(v.a)({},n,r))},a.getBooks=function(e){var t="https://api.nytimes.com/svc/books/v3/reviews.json?title=",n=e.topicBook;n.indexOf(" ")>=0&&(n=n.replace(/\s/g,"+")),n&&(t+="".concat(n)),t+="&api-key=TZBzEuyISaV432LqBahDZC1YwILc41s7",_.queryNYT(t).then(function(t){console.log(t),a.setState({resultsBook:[].concat(Object(E.a)(a.state.resultsBook),Object(E.a)(t.data.results)),previousSearchBook:e,topicBook:""},function(){0===this.state.resultsBook.length?this.setState({noResultsBook:!0}):this.setState({noResultsBook:!1})})}).catch(function(e){return console.log(e)})},a.getMoreResults=function(){var e=a.state.previousSearch,t={topic:e.topic,eYear:e.eYear,sYear:e.sYear},n=a.state.page;n++,a.setState({page:n},function(){this.getArticles(t)})},a.getMoreResultsBook=function(){var e=a.state.previousSearch,t={topicBook:e.topicBook,eYearBook:e.eYearBook,sYearBook:e.sYearBook},n=a.state.pageBook;n++,a.setState({page:n},function(){this.getArticles(t)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.defaults.headers.common.Authorization;case 2:return e.next=4,localStorage.getItem("jwtToken");case 4:null===e.sent&&this.props.history.push("/login");case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateResults",value:function(e,t){this.setState({results:[].concat(Object(E.a)(this.state.results),Object(E.a)(e.data.response.docs)),previousSearch:t},function(){0===this.state.results.length?this.setState({noResults:!0}):this.setState({noResults:!1})})}},{key:"changeSearchType",value:function(e){this.setState({searchType:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(j,{fluid:!0},r.a.createElement(S,null,r.a.createElement(O,{size:"sm-10",offset:"sm-1"},r.a.createElement(k,null,r.a.createElement(w,{className:"text-center"},"New York Times Best Seller Searcher"),r.a.createElement(x,{className:"text-center"},"Search \u2022 Save \u2022 Recommend")),r.a.createElement(W.d,null,r.a.createElement(W.b,null,r.a.createElement(W.a,{onClick:function(){return e.changeSearchType(e.articleType)}}," Article"),r.a.createElement(W.a,{onClick:function(){return e.changeSearchType(e.bookType)}}," Books")),r.a.createElement(W.c,null,r.a.createElement(A,null,r.a.createElement(B,null,r.a.createElement(C,null,"Search")),r.a.createElement(Y,null,r.a.createElement(M,{style:{marginBottom:"30px"}},r.a.createElement(T,null,r.a.createElement(I,{htmlFor:"topic"},"Enter an article to search for:"),r.a.createElement(F,{onChange:this.handleInputChange,name:"topic",value:this.state.topic,placeholder:"Topic"})),r.a.createElement(T,null,r.a.createElement(I,{htmlFor:"sYear"},"Enter a beginning date to search for (optional):"),r.a.createElement(F,{onChange:this.handleInputChange,type:"date",name:"sYear",value:this.state.sYear,placeholder:"Start Year"})),r.a.createElement(T,null,r.a.createElement(I,{htmlFor:"eYear"},"Enter an end date to search for (optional):"),r.a.createElement(F,{onChange:this.handleInputChange,type:"date",name:"eYear",value:this.state.eYear,placeholder:"End Year"})),r.a.createElement(R,{disabled:!this.state.topic,onClick:this.handleFormSubmit,type:"info"},"Submit")))),this.state.noResults?r.a.createElement(w,null,"No results found. Please try again"):this.state.results.length>0?r.a.createElement(A,null,r.a.createElement(B,null,r.a.createElement(C,null,"Results")),r.a.createElement(Y,null,this.state.results.map(function(t,a){return r.a.createElement(q,{key:a,title:t.headline.main,url:t.web_url,summary:t.snippet,date:t.pub_date,type:"Save",onClick:function(){return e.saveArticle(t)}})}),r.a.createElement(R,{type:"warning",additional:"btn-block",onClick:this.getMoreResults},"Get more results"))):""),r.a.createElement(W.c,null,r.a.createElement(A,null,r.a.createElement(B,null,r.a.createElement(C,null,"Search")),r.a.createElement(Y,null,r.a.createElement(M,{style:{marginBottom:"30px"}},r.a.createElement(T,null,r.a.createElement(I,{htmlFor:"topic"},"Enter a book to search for:"),r.a.createElement(F,{onChange:this.handleInputChange,name:"topicBook",value:this.state.topicBook,placeholder:"Topic"})),r.a.createElement(T,null,r.a.createElement(I,{htmlFor:"sYear"},"Enter a beginning date to search for (optional):"),r.a.createElement(F,{onChange:this.handleInputChange,type:"date",name:"sYearBook",value:this.state.sYearBook,placeholder:"Start Year"})),r.a.createElement(T,null,r.a.createElement(I,{htmlFor:"eYear"},"Enter an end date to search for (optional):"),r.a.createElement(F,{onChange:this.handleInputChange,type:"date",name:"eYearBook",value:this.state.eYearBook,placeholder:"End Year"})),r.a.createElement(R,{disabled:!this.state.topicBook,onClick:this.handleFormSubmitBook,type:"info"},"Submit")))),this.state.noResultsBook?r.a.createElement(w,null,"No results found. Please try again"):this.state.resultsBook.length>0?r.a.createElement(A,null,r.a.createElement(B,null,r.a.createElement(C,null,"Results")),r.a.createElement(Y,null,this.state.resultsBook.map(function(t,a){return r.a.createElement(q,{key:a,title:t.book_title,url:t.url,summary:t.summary,date:t.publication_dt,type:"Save",onClick:function(){return e.saveBook(t)}})}),r.a.createElement(R,{type:"warning",additional:"btn-block",onClick:this.getMoreResultsBook},"Get more results"))):"")))))}}]),t}(n.Component)),J=a(104),G=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={commentsVisible:!1},a.openCommentField=function(){a.setState({commentsVisible:!a.state.commentsVisible})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"list-group",style:{margin:"30px 0"}},r.a.createElement("a",{href:this.props.url,className:"bg-dark list-group-item list-group-item-action flex-column align-items-start active",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"d-flex w-100 justify-content-between"},r.a.createElement("h5",{className:"mb-1"},this.props.title),r.a.createElement("small",null,z()(this.props.date).format("dddd, MMMM Do YYYY, h:mm")))),r.a.createElement(P,{className:"list-group-item"},r.a.createElement("div",{className:" w-75",style:{display:"inline-block"}},r.a.createElement("h5",{className:"mb-1"},this.props.summary)),r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example",style:{float:"right"}},r.a.createElement("a",{href:this.props.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("button",{type:"button",className:"btn btn-info",style:{padding:"5px",width:"100px"}},"Read")),r.a.createElement(J.a,{to:"/savedArticles/".concat(this.props._id)},r.a.createElement("button",{type:"button",className:"btn btn-dark",style:{padding:"5px",width:"100px"}},"Comment")),r.a.createElement("button",{type:"button",className:"btn btn-primary",style:{padding:"5px",width:"100px"},onClick:this.props.onClick},this.props.type),r.a.createElement("button",{type:"button",className:"btn btn-primary",style:{padding:"5px",width:"100px"},onClick:this.openCommentField},"Recommend"))),r.a.createElement(V,{articleData:this.props,commentsVisible:this.state.commentsVisible}))}}]),t}(n.Component),Z=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={savedArticles:[]},a.loadArticles=function(){var e=localStorage.getItem("user");_.getArticlesU(e).then(function(e){a.setState({savedArticles:e.data})})},a.deleteArticle=function(e){var t=localStorage.getItem("user");_.deleteArticleU(t,e).then(function(t){var n=a.state.savedArticles.filter(function(t){return t._id!==e});a.setState({savedArticles:n}),a.loadArticles()}).catch(function(e){return console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.loadArticles()}},{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.defaults.headers.common.Authorization;case 2:return e.next=4,localStorage.getItem("jwtToken");case 4:return null===e.sent&&this.props.history.push("/login"),e.next=8,localStorage.getItem("user");case 8:t=e.sent,_.getArticlesU(t).then(function(e){}).catch(function(e){401===e.response.status&&console.log(e.response)});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(j,{fluid:!0},r.a.createElement(S,null,r.a.createElement(O,{size:"sm-10",offset:"sm-1"},r.a.createElement(k,null,r.a.createElement(w,{className:"text-center"},"Saved Articles"),r.a.createElement("hr",{style:{width:"60%"}})),r.a.createElement(A,null,r.a.createElement(B,null,r.a.createElement(C,null,"Your Articles")),r.a.createElement(Y,null,this.state.savedArticles.length>0?this.state.savedArticles.map(function(t,a){return r.a.createElement(G,{key:a,_id:t._id,title:t.title,url:t.url,summary:t.summary,date:t.date,type:"Delete",onClick:function(){return e.deleteArticle(t._id)}})}):r.a.createElement(w,null,"You have no saved articles."))))))}}]),t}(n.Component),K=function(){return r.a.createElement(j,{fluid:!0},r.a.createElement(S,null,r.a.createElement(O,{size:"sm-10",offset:"sm-1"},r.a.createElement(k,null,r.a.createElement(w,{className:"text-center"},"404 OOPS!  You did something wrong"),r.a.createElement(w,{className:"text-center"},r.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44",r.a.createElement("br",null)))))))},Q=a(106),X=a(105),$=a(29),ee=a.n($),te=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).logout=Object(f.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([localStorage.removeItem("jwtToken"),localStorage.removeItem("user")]);case 2:window.location.reload();case 3:case"end":return e.stop()}},e)})),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(Q.a,{className:"navbar navbar-dark bg-primary",expand:"xl"},r.a.createElement(Q.a.Brand,{className:"navbar-brand titleSite",href:"/"},"NYT Articles and Book Searcher"),r.a.createElement(Q.a.Brand,{className:"navbar-brand logoSite",href:"/"},r.a.createElement("img",{src:ee.a,style:{width:55,height:"auto",backgroundColor:"white",borderRadius:4},alt:"site logo"}),r.a.createElement("div",{style:{fontFamily:"gothic script",fontSize:"60px",padding:"0px 3px",webkitTextStroke:"2px #333333"}},"NYT")),r.a.createElement(Q.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(Q.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(X.a,{className:"mr-auto"},r.a.createElement(X.a.Link,{style:{marginRight:"10px"},className:"nav-item",href:"/"},r.a.createElement("button",{type:"button",className:"btn btn-dark"},"Home")),r.a.createElement(X.a.Link,{style:{marginRight:"10px"},className:"nav-item",href:"/savedArticles"},r.a.createElement("button",{type:"button",className:"btn btn-dark"},"Saved Articles")),r.a.createElement(X.a.Link,{style:{marginRight:"10px"},className:"nav-item",href:"/recommendation"},r.a.createElement("button",{type:"button",className:"btn btn-dark"},"Recommendations")),r.a.createElement(X.a.Link,{style:{marginRight:"10px"},className:"nav-item",href:"/recommendation"},r.a.createElement("button",{onClick:this.logout,type:"button",className:"btn btn-dark"},"Logout")))))}}]),t}(n.Component),ae=(a(48),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(Q.a,{className:"navbar navbar-dark bg-primary"},r.a.createElement(Q.a.Brand,{className:"navbar-brand titleSite",href:"/"},"NYT Articles and Book Searcher"),r.a.createElement(Q.a.Brand,{className:"navbar-brand logoSite",href:"/"},r.a.createElement("img",{src:ee.a,style:{width:75,height:"auto",backgroundColor:"white",borderRadius:4},alt:"site logo"}),r.a.createElement("div",{style:{fontFamily:"gothic script",fontSize:"60px",padding:"0px 25px"}},"NYT")),r.a.createElement(Q.a.Toggle,{"aria-controls":"basic-navbar-nav"}))}}]),t}(n.Component)),ne=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.loggedin?r.a.createElement(te,null):r.a.createElement(ae,null))}}]),t}(n.Component),re=(a(99),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"addToRecommendations",value:function(e){console.log(e)}},{key:"render",value:function(){return r.a.createElement("div",{className:"messageContainer"},r.a.createElement("div",{className:"messageHeader "},this.props.sender," has recommended you read"," ",r.a.createElement("a",{style:{color:"white"},href:this.props.url}," ",this.props.title," ")," ","with the following comments"),r.a.createElement("div",{className:"messageBody"},r.a.createElement("div",null,this.props.message)))}}]),t}(n.Component)),le=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={messages:[]},a.loadMessages=function(){var e=localStorage.getItem("user");_.getRecommendation(e).then(function(e){a.setState({messages:e.data})})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.loadMessages()}},{key:"render",value:function(){return r.a.createElement(A,null,r.a.createElement(B,null,r.a.createElement(C,null,"Your Messages")),r.a.createElement(Y,null,this.state.messages.length>0?this.state.messages.map(function(e,t){return r.a.createElement(re,{key:t,title:e.title,sender:e.sender,message:e.message,url:e.url})}):r.a.createElement(w,null,"You have no messages.")))}}]),t}(n.Component),se=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={savedArticles:[]},a.loadArticles=function(){var e=localStorage.getItem("user");_.getArticlesU(e).then(function(e){a.setState({savedArticles:e.data})})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.defaults.headers.common.Authorization;case 2:return e.next=4,localStorage.getItem("jwtToken");case 4:null===e.sent&&this.props.history.push("/login");case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.loadArticles()}},{key:"render",value:function(){return r.a.createElement(j,{fluid:!0},r.a.createElement(S,null,r.a.createElement(O,{size:"sm-10",offset:"sm-1"},r.a.createElement(k,null,r.a.createElement(w,{className:"text-center"},"Recommendations"),r.a.createElement("hr",{style:{width:"60%"}})),r.a.createElement(le,null))))}}]),t}(n.Component),ce=(a(49),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=a.state;t[e.target.name]=e.target.value,a.setState(t)},a.onSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password,l=Object(y.a)(Object(y.a)(a));_.loginUser(n,r).then(function(e){localStorage.setItem("jwtToken",e.data.token),localStorage.setItem("user",n),l.props.updateLogin(l.props.parent),a.setState({message:""})}).then(function(){a.props.history.push("/")}).catch(function(e){401===e.response.status&&a.setState({message:"Login failed. Username or password not match"})}),a.setState({username:"",password:"",message:""})},a.state={username:"",password:"",message:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){null!==localStorage.getItem("jwtToken")&&this.props.history.push("/")}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.message;return r.a.createElement(j,{fluid:!0},r.a.createElement(S,null,r.a.createElement(O,{size:"sm-10",offset:"sm-1"},r.a.createElement(k,null,r.a.createElement(w,{className:"text-center"},"Welcome to Best Seller Searcher!"),r.a.createElement("hr",{style:{width:"60%"}})),r.a.createElement(A,null,r.a.createElement(Y,null,r.a.createElement(M,{className:"form-signin",style:{marginBottom:"30px"}},""!==n&&r.a.createElement("div",{className:"alert alert-warning alert-dismissible",role:"alert"},n),r.a.createElement(N,{className:"form-signin-heading"},"Please sign in"),r.a.createElement(T,null,r.a.createElement(I,{htmlFor:"inputUsername",className:"sr-only"},"Username"),r.a.createElement(F,{type:"Username",className:"form-control",placeholder:"Username",name:"username",value:t,onChange:this.onChange,required:!0})),r.a.createElement(T,null,r.a.createElement(I,{htmlFor:"inputPassword",className:"sr-only"},"Password"),r.a.createElement(F,{type:"password",className:"form-control",placeholder:"Password",name:"password",value:a,onChange:this.onChange,required:!0})),r.a.createElement("button",{disabled:!t||!a,className:"btn btn-lg btn-primary btn-block",onClick:this.onSubmit,type:"info"},"Login"),r.a.createElement("p",null,"Not a member?"," ",r.a.createElement(J.a,{to:"/register"},r.a.createElement("span",{className:"glyphicon glyphicon-plus-sign","aria-hidden":"true"})," Register here"))))))))}}]),t}(n.Component)),oe=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=e.state;a[t.target.name]=t.target.value,e.setState(a)},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;_.registerUser(n,r).then(function(){e.props.history.push("/login")}),e.setState({username:"",password:"",message:""})},e.state={username:"",password:""},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){null!==localStorage.getItem("jwtToken")&&this.props.history.push("/")}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return r.a.createElement(j,{fluid:!0},r.a.createElement(S,null,r.a.createElement(O,{size:"sm-10",offset:"sm-1"},r.a.createElement(k,null,r.a.createElement(w,{className:"text-center"},"Welcome to Best Seller Searcher!"),r.a.createElement("hr",{style:{width:"60%"}})),r.a.createElement(A,null,r.a.createElement(Y,null,r.a.createElement(M,{className:"form-signin",style:{marginBottom:"30px"}},r.a.createElement(N,{className:"form-signin-heading"},"Register"),r.a.createElement(T,null,r.a.createElement(I,{htmlFor:"inputEmail",className:"sr-only"},"Username"),r.a.createElement(F,{type:"email",className:"form-control",placeholder:"Username",name:"username",value:t,onChange:this.onChange,required:!0})),r.a.createElement(T,null,r.a.createElement(I,{htmlFor:"inputPassword",className:"sr-only"},"Password"),r.a.createElement(F,{type:"password",className:"form-control",placeholder:"Password",name:"password",value:a,onChange:this.onChange,required:!0})),r.a.createElement("button",{disabled:!t||!a,className:"btn btn-lg btn-primary btn-block",onClick:this.onSubmit,type:"info"},"Register"),r.a.createElement("p",null,"Already a member?"," ",r.a.createElement(J.a,{to:"/login"},r.a.createElement("span",{className:"glyphicon glyphicon-plus-sign","aria-hidden":"true"})," Login here"))))))))}}]),t}(n.Component),ie=function(e){return r.a.createElement("div",{className:"list-group",style:{margin:"30px 0"}},r.a.createElement("a",{href:e.url,className:"bg-dark list-group-item list-group-item-action flex-column align-items-start active",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"d-flex w-100 justify-content-between"},r.a.createElement("h5",{className:"mb-1"},e.title),r.a.createElement("small",null,z()(e.date).format("dddd, MMMM Do YYYY, h:mm")))),r.a.createElement(P,{className:"list-group-item"},r.a.createElement("div",{className:" w-75",style:{display:"inline-block"}},r.a.createElement("h5",{className:"mb-1"},e.summary)),r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example",style:{float:"right"}},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("button",{type:"button",className:"btn btn-info"},"Read")),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.onClick},e.type))))},me=(n.Component,function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(v.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.article,r=t.subjectForm,l=t.authorForm,s=t.commentForm;_.saveComment(n._id,r,l,s).then(function(e){a.setState({comments:e.data.comments})}).catch(function(e){console.log(e)}),a.setState({subjectForm:"",authorForm:"",commentForm:""})},a.deleteArticle=function(e){var t=localStorage.getItem("user");_.deleteArticleU(t,e).then(function(e){a.props.history.push("/savedArticles")}).catch(function(e){return console.log(e)})},a.state={article:{comments:[]}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark(function e(){var t,a,n=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.defaults.headers.common.Authorization;case 2:return e.next=4,localStorage.getItem("jwtToken");case 4:if(null!==e.sent){e.next=9;break}this.props.history.push("/login"),e.next=14;break;case 9:return t=localStorage.getItem("user"),a=this.props.match.params.id,e.next=13,Promise.all([t,a]);case 13:_.getArticleU(t,a).then(function(e){n.setState({article:e.data})}).catch(function(e){401===e.response.status&&console.log(e.response)});case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(j,{fluid:!0},r.a.createElement(S,null,r.a.createElement(O,{size:"sm-10",offset:"sm-1"},r.a.createElement(k,null,r.a.createElement(w,{className:"text-center"},"Leave A Comment"),r.a.createElement("hr",{style:{width:"60%"}})),r.a.createElement(A,null,r.a.createElement(Y,null,r.a.createElement(ie,{_id:this.state.article._id,title:this.state.article.title,url:this.state.article.url,summary:this.state.article.summary,date:this.state.article.date,type:"Delete",onClick:function(){return e.deleteArticle(e.state.article._id)}}),r.a.createElement(J.a,{to:"/savedArticles"},"See All Saved Articles"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(B,null,r.a.createElement(C,null,"Comment On Article")),r.a.createElement(M,{style:{marginBottom:"30px"}},r.a.createElement(T,null,r.a.createElement(I,{htmlFor:"subjectForm"},"Enter a subject for the comment:"),r.a.createElement(F,{onChange:this.handleInputChange,name:"subjectForm",value:this.state.subjectForm,placeholder:"Subject"})),r.a.createElement(T,null,r.a.createElement(I,{htmlFor:"authorForm"},"Enter your name as the author of this note:"),r.a.createElement(F,{onChange:this.handleInputChange,name:"authorForm",value:this.state.authorForm,placeholder:"Author"})),r.a.createElement(T,null,r.a.createElement(I,{htmlFor:"commentForm"},"Enter your comment here:"),r.a.createElement(F,{onChange:this.handleInputChange,name:"commentForm",value:this.state.commentForm,placeholder:"Comment"})),r.a.createElement(R,{disabled:!this.state.subjectForm||!this.state.authorForm||!this.state.commentForm,onClick:this.handleFormSubmit,type:"info"},"Submit")),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(Y,null,0===this.state.article.comments.length?r.a.createElement(B,null,r.a.createElement(w,null,"There are no comments to show"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)):r.a.createElement(A,null,r.a.createElement(B,null,r.a.createElement(C,null,"Comments Section")),r.a.createElement(Y,null,this.state.article.comments.map(function(e){return r.a.createElement(ie,{title:"|| Subject: ".concat(e.subject," || Author: ").concat(e.author," ||"),summary:"Comment: ".concat(e.comment)})}))))))))}}]),t}(n.Component)),ue=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loggedin:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.updateLogin(this)}},{key:"updateLogin",value:function(e){e.setState({loggedin:null!==localStorage.getItem("jwtToken")})}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement(ne,{loggedin:this.state.loggedin}),r.a.createElement(p.a,null,r.a.createElement(d.a,{exact:!0,path:"/(|articles)",component:H}),r.a.createElement(d.a,{exact:!0,path:"/savedArticles",component:Z}),r.a.createElement(d.a,{exact:!0,path:"/savedArticles/:id",component:me}),r.a.createElement(d.a,{exact:!0,path:"/recommendation",component:se}),r.a.createElement(d.a,{exact:!0,path:"/register",component:oe}),r.a.createElement(d.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(ce,Object.assign({},t,{parent:e,updateLogin:e.updateLogin}))}}),r.a.createElement(d.a,{component:K}))))}}]),t}(n.Component);a(101);s.a.render(r.a.createElement(ue,null),document.getElementById("root"))},29:function(e,t,a){e.exports=a.p+"static/media/favicon.a3ab0bc3.png"},48:function(e,t,a){},49:function(e,t,a){},57:function(e,t,a){e.exports=a(102)},85:function(e,t,a){},99:function(e,t,a){}},[[57,1,2]]]);
//# sourceMappingURL=main.ff41d91c.chunk.js.map